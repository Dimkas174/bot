const http = require('http'),
      express = require('express'),
      app = express();
app.get("/", (request, response) => {
  console.log(Date.now() + " Ping Received");
  response.sendStatus(200);
});
app.listen(process.env.PORT);
setInterval(() => {
  http.get(`http://${process.env.PROJECT_DOMAIN}.glitch.me/`);
}, 280000);

/*==========DISCORD.JS===========*/
const Discord = require('discord.js'),
      { CommandoClient } = require('discord.js-commando');
/*==============================*/

const path = require('path'),
      client = new CommandoClient({
    commandPrefix: '/',
    owner: '387800953731940354',
    disableEveryone: true,
    unknownCommandResponse: false
});
const fs = require('fs'),
      FeedParser = require('feedparser'),
      beagle = require('beagle'),
      request = require('request'),
      superfetch = require('node-superfetch'),
      cheerio = require('cheerio'),
      Enmap = require('enmap'),
      EnmapSQLite = require('enmap-sqlite'),
      cron = require('node-cron');

const prefix = '/'
client.info = new Enmap({ provider: new EnmapSQLite({ name: 'info' }) });

var currentNews = [];
var postedNews = [];
var postNewsInterval; 
var loadNewsInterval;
var cleanOldNewsInterval;
const postedNewsFilePath = "./assets/json/postedNews.json";

const postNewsPeriod =  60000 * 15; // 15 –º–∏–Ω—É—Ç
const loadNewsPeriod =  60000 * 14; // 14 –º–∏–Ω—É—Ç
const cleanOldNewsPeriod =  60000 * 60 * 1; // 24 hour
const maxNumberOfNewsToRemember = 10000;

client.registry
    .registerDefaultTypes()
    .registerGroups([
        ['admin', '–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏'],
        ['analyze', '–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã'],
        ['animals', '–†–∞–Ω–¥–æ–º–Ω—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ'],
        ['anime', '–ê–Ω–∏–º–µ'],
        ['avataredit', '–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π'],
        ['content', '–ö–æ–Ω—Ç–µ–Ω—Ç'],
        ['events', '–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è'],
        ['fun', '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è'],
		    ['games', '–ò–≥—Ä—ã'],
        ['imageedit', '–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏'],
        ['info', '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è'],
        ['nsfw', '18+'],
		    ['numberedit', '–û–ø–µ—Ä–∞—Ü–∏–∏ —Å —á–∏—Å–ª–∞–º–∏'],
        ['other', '–î—Ä—É–≥–æ–µ'],
        ['owner', '–¢–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–æ—Ç–∞'],
        ['quiz', '–í–∏–∫—Ç–æ—Ä–∏–Ω—ã'],
        ['random', '–°–ª—É—á–∞–π–Ω—ã–µ'],
        ['roleplay', '–†–æ–ª—å–ø–ª–µ–π'],
        ['search', '–ü–æ–∏—Å–∫'],
        ['single', '–ü—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç'],
        ['textedit', '–û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–µ–∫—Å—Ç–æ–º'],
        ['utility', '–£—Ç–∏–ª–∏—Ç—ã'],
        ['vmp', 'V-MP'],
        ['voice', '–ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª']
    ])
    .registerDefaultGroups()
    .registerDefaultCommands({
        help: true,
        ping: false
    })
    .registerCommandsIn(path.join(__dirname, 'commands'));

//=======================================//
//      BOT EVENT HANDLER
//=======================================//

fs.readdir("./events/", (err, files) => {
    if (err) return console.error(err);
    files.forEach(file => {
        if (!file.endsWith(".js")) return;
        const event = require(`./events/${file}`);
        let eventName = file.split(".")[0];
        client.on(eventName, event.bind(null, client));
        delete require.cache[require.resolve(`./events/${file}`)];
    });
});

function randomStatus() {
    let status = [`/help | –°–µ—Ä–≤–µ—Ä–æ–≤: ${client.guilds.size}`,`${client.guilds.reduce((mem, g) => mem += g.memberCount, 0)} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`]
    let rstatus = Math.floor(Math.random() * status.length);
    client.user.setPresence({ game: { name: status[rstatus], type: "LISTENING"}});
}; setInterval(randomStatus, 60000)


async function statusVmpAlpha() {
    try {
        const { body } = await superfetch.get("http://185.71.66.105:4490/health");
   
        if (client.channels.find(c => c.name === `AD SRV#01‚îÇONLINE ${body.Players}/${body.MaxPlayers}`)) return;
        return client.channels.find(c => c.id === "548500462165557278").setName(`AD SRV#01‚îÇüì∂ ONLINE ${body.Players}/${body.MaxPlayers}`);
    } catch(err) {
        client.channels.find(c => c.id === "548500462165557278").setName(`AD SRV#01‚îÇ–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!`);
        return console.log(err.stack);
    }
}; setInterval(statusVmpAlpha, 300000)

async function statusVmpBeta() {
    try {
       const { body } = await superfetch.get("http://185.71.66.105:4491/health");
   
       if (client.channels.find(c => c.name === `AD SRV#02‚îÇONLINE ${body.Players}/${body.MaxPlayers}`)) return;
       return client.channels.find(c => c.id === "548392624726212609").setName(`AD SRV#02‚îÇüì∂ ONLINE ${body.Players}/${body.MaxPlayers}`);
    } catch(err) {
       client.channels.find(c => c.id === "548392624726212609").setName(`AD SRV#02‚îÇ–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!`);
       return console.log(err.stack);
    }
}; setInterval(statusVmpBeta, 300000)


var hookadmin = new Discord.WebhookClient('367692282385661953', 'vVOCSOYyBuOH6wH_w4Xyz92OKxxiCPn1DR3YRjNOZ0rIWR9bby2VyQnxf0PIUJV6VpEU'); // admin_chat
var hookgame = new Discord.WebhookClient('368115878169935875', 'k-3flnL951UWcwrDr-dzvuTQwJKgFIVLxGwPIJYzoLrTVK3g5EbJxkW4x97q7XFwB3p1'); // game_videos
var hookgta = new Discord.WebhookClient('388638844695871488', 'K0KxS7NZmFCe7cGmtFL9MigoexpAnDtXNQGUn2VNp6eJEMKmmXeVHeCXUvQsHfntaw64'); // vmp
var hookgeneral = new Discord.WebhookClient('366923314293374977', 'OR0wd2fhB1p4AXmL5fRVzaWzgIv1JCzTU6Napo2VN5lS5QDje59T8yk92nlJ_O42-jB3'); // general
var hookrss = new Discord.WebhookClient('372316352863797249', 'A33nhva9PBCq2-NPf6k6k4GIm9cUIs4xxzcHhC4zLA6DUKHRuY6Zm_FVxwI-YG23Qmpq'); // rss
var hookvideo = new Discord.WebhookClient('368117445669552140', '2HV7MfU_cr-mL02nbzwN5eeVBDQTYwwcRB506RlTVQrD_c-pN2-0vqVkUyryZybmuj1V'); // videos

function log(message) {
    console.log(message);
}

function loadPostedNewsFromFileSystem(){
    getAll((restoredNews) => {
        postedNews = restoredNews;
        log("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π: " + postedNews.length);
        loadAllFeeds();
    });
}
loadPostedNewsFromFileSystem();


client.on('ready', () => {
    var generalChannel = client.channels.get("25466045464298784169786");
    if (!postNewsInterval) {
        postNewsInterval = setInterval(() => {
            if (currentNews.length === 0) {
                return;
            }
            var articleToPost = currentNews.shift();
            switch(articleToPost.author) {
                case 'PLAYMP':
                // —è—Ä–º–∞—Ä–∫–∞ –æ–±—â–∏–π
                client.channels.find(c => c.id === '548768443751464961').send(articleToPost.link);
                // —è—Ä–º–∞—Ä–∫–∞ news
                client.channels.find(c => c.id === '548402222208122880').send(articleToPost.link);
                break;
                
                case 'MisterKey':
                case 'Richi':
                case 'Vladislav Pavlov':
                case 'TaGs Play Theme':
                case 'JiK':
                case 'Filipin is bro':
                case 'Joe Speen':
                case 'SodaEffect':
                let text = `${articleToPost.title}`
                if (text.match(/(?:gta|–≥—Ç–∞) (?:5|v) (?:rp|—Ä–ø)|v-?mp/gi)) {
                    // —è—Ä–º–∞—Ä–∫–∞ –æ–±—â–∏–π
                   client.channels.find(c => c.id === '548768443751464961').send(articleToPost.link);
                }
                break;
                
                default:
                if (articleToPost.link.match(/http:\/\/vk.com\/wall-23881761_[0-9]{2,6}/gi)) {
                  // test2
                   var des = articleToPost.description.replace(/<br>|%27(\/)?%3E|<a href='|<img src='|<\/a>|'\/>|'>/gi, "\n");
                   var dess = des.replace(/club23881761\|/, "");
                  
                   if (dess.match(/https?:\/\/(?:pp|sun[0-9-]{2,4}).userapi.com\/[a-zA-Z0-9/-]{2,}.jpg/gi)) {
                      if (dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)) {
                         if (dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)) {
                            let imgvk = dess.match(/https?:\/\/(?:pp|sun[0-9-]{2,4}).userapi.com\/[a-zA-Z0-9/-]{2,}.jpg/gi)[0];
                            let videovk = dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)[0];
                            let linkvk = dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)[0];
                            let desbv = dess.replace(videovk, "");
                            let desbiv = desbv.replace(imgvk, "");
                            let desbivl = desbiv.replace(linkvk, "");
                            // —è—Ä–º–∞—Ä–∫–∞
                            client.channels.find(c => c.id === '548402222208122880').send(`${desbivl} \n${linkvk} \n${videovk} \n${imgvk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                         } else {
                            let imgvk = dess.match(/https?:\/\/(?:pp|sun[0-9-]{2,4}).userapi.com\/[a-zA-Z0-9/-]{2,}.jpg/gi)[0];
                            let videovk = dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)[0];
                            let desbv = dess.replace(videovk, "");
                            let desbiv = desbv.replace(imgvk, "");
                            // —è—Ä–º–∞—Ä–∫–∞
                            client.channels.find(c => c.id === '548402222208122880').send(`${desbiv} \n${videovk} \n${imgvk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                         }
                      } else if (dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)) {
                         let imgvk = dess.match(/https:\/\/pp.userapi.com\/[a-zA-Z0-9/]{2,}.jpg/gi)[0];
                         let linkvk = dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)[0];
                         let desbi = dess.replace(imgvk, "");
                         let desbil = desbi.replace(linkvk, "");
                        // —è—Ä–º–∞—Ä–∫–∞
                        client.channels.find(c => c.id === '548402222208122880').send(`${desbil} \n${linkvk} \n${imgvk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                      } else {
                         let imgvk = dess.match(/https?:\/\/(?:pp|sun[0-9-]{2,4}).userapi.com\/[a-zA-Z0-9/-]{2,}.jpg/gi)[0];
                         let desbi = dess.replace(imgvk, "");
                         // —è—Ä–º–∞—Ä–∫–∞
                         client.channels.find(c => c.id === '548402222208122880').send(`${desbi} \n${imgvk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                      }
                     
                   } else if (dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)) {
                       if (dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)) {
                           let videovk = dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)[0];
                           let linkvk = dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)[0];
                           let desbv = dess.replace(videovk, "");
                           let desbvl = desbv.replace(linkvk, "");
                           // —è—Ä–º–∞—Ä–∫–∞
                           client.channels.find(c => c.id === '548402222208122880').send(`${desbvl} \n${linkvk} \n${videovk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                       } else {
                           let videovk = dess.match(/https?:\/\/vk.com\/video-[0-9_]{2,}/gi)[0];
                           let desbv = dess.replace(videovk, "");
                           // —è—Ä–º–∞—Ä–∫–∞
                          client.channels.find(c => c.id === '548402222208122880').send(`${desbv} \n${videovk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                       }
                     
                   } else if (dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)) {
                       let linkvk = dess.match(/https?:\/\/(?:m.vk.com|v-mp.ru)\/(?:@-23881761[0-9a-zA-Z-]{2,}|[a-zA-Z0-9]{2,}.html)/gi)[0];
                       let desbl = dess.replace(linkvk, "");
                       // —è—Ä–º–∞—Ä–∫–∞
                      client.channels.find(c => c.id === '548402222208122880').send(`${desbl} \n${linkvk} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                     
                   } else {
                      // —è—Ä–º–∞—Ä–∫–∞
                      client.channels.find(c => c.id === '548402222208122880').send(`${dess} \n**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–µ:** ${articleToPost.link}`);
                   }
                  
                } else if (articleToPost.link.match(/https?:\/\/9gag.com\/gag\/[a-zA-Z0-9]{2,}/gi)) {
                   if (articleToPost.description.match(/https:\/\/img-9gag-fun.9cache.com\/photo\/[a-zA-Z0-9]{2,}_460sv.mp4/gi)) {     
                     let videogag = articleToPost.description.match(/https:\/\/img-9gag-fun.9cache.com\/photo\/[a-zA-Z0-9]{2,}_460sv.mp4/gi)
                     // –í–ê–® –ë–û–¢
                     client.channels.find(c => c.id === '507894200055103498').send(videogag);
                   }
                       
                } else {
                  // test
                   client.channels.find(c => c.id === '498026742724952065').send(`${articleToPost.description} \n${articleToPost.link}`);
                }
                break;
            }
            postedNews.push(articleToPost);
            saveAll(postedNews);
            log("–°–ª–µ–¥—É—é—â–∞—è –Ω–æ–≤–æ—Å—Ç—å - " + currentNews.length);
        }, postNewsPeriod);
    }
});


loadNewsInterval = setInterval(() => {
    log("–ü–æ–∏—Å–∫ –Ω–æ—Ä–≤—ã—Ö –ø–æ—Å—Ç–æ–≤");
    loadAllFeeds();
}, loadNewsPeriod);


cleanOldNewsInterval = setInterval(() => {
    while (postedNews.length > maxNumberOfNewsToRemember) {
        var oldNewsToDelete = postedNews.shift();
        log("–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ " + oldNewsToDelete.title + " - " + oldNewsToDelete.link)
    }
    saveAll(postedNews);
}, cleanOldNewsPeriod);


var rssFeeds = require("./assets/json/rss.json");


function loadAllFeeds() {
    for (var feedName in rssFeeds) {
        loadFeed(rssFeeds[feedName].url);
    }
}

function loadFeed(url) {
    var feedparser = new FeedParser();
    request(url).pipe(feedparser);
    feedparser.on('error', (error) => log(error));
    feedparser.on('readable', function () {
        var stream = this;
        var item;
        while (item = stream.read()) {
            if (postedNews && postedNews.some(x => x.title == item.title)) continue;
            if (currentNews.some(x => x.title == item.title)) continue;
            log('–í –º–∞—Å—Å–∏–≤ –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ—Å—Ç –æ—Ç: ' + item.author + '. ' + item.title);
            currentNews.push({
                title: item.title,
                link: item.link,
                date: item.date,
                author: item.author,
                description: item.description,
            });
            if (currentNews.length > 100) currentNews.shift();
        }
    });
}

function getAll(callback) {
    fs.exists(postedNewsFilePath, (exists) => {
        if (!exists) {
            callback([]);
            return;
        }
        fs.readFile(postedNewsFilePath, {encoding: 'utf-8'}, (err,data) => {
            if (!err) {
                callback(JSON.parse(data));
            } else {
                log(err);
            }
        });
    });
}

function saveAll(data) {
    fs.writeFile(postedNewsFilePath, JSON.stringify(data, null, 4), (err) => {
        if(err) {
            log(err);
            return;
        }
    });
}

cron.schedule('1 0 31 10 *', () => {
      const embed = new Discord.RichEmbed()
         embed.setColor('#FF4500') //–û—Ä–∞–Ω–∂–µ–≤–æ-–∫—Ä–∞—Å–Ω—ã–π
         embed.setThumbnail('https://i.imgur.com/sVPtzsA.gif')
         embed.setTitle(`31 –æ–∫—Ç—è–±—Ä—è \nHappy Halloween!`)
         embed.setImage(`https://i.imgur.com/qn37uDA.gif`)
         client.channels.find(c => c.id === '498026742724952065').send(embed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});

cron.schedule('1 10 4 11 *', () => {
      const embed = new Discord.RichEmbed()
         embed.setColor('#4169E1') //RoyalBlue
         embed.setThumbnail('https://i.imgur.com/KPm9aGk.gif')
         embed.setTitle(`4 –Ω–æ—è–±—Ä—è \n–° –î–µ–Ω—ë–º –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–∞ –≤ –†–æ—Å—Å–∏–∏!`)
         embed.setImage(`https://i.imgur.com/DLOnahV.gif`)
         client.channels.find(c => c.id === '498026742724952065').send(embed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});

cron.schedule('1 10 10 12 *', () => {
      const embed = new Discord.RichEmbed()
         embed.setColor('#A52A2A')
         embed.setThumbnail('https://i.imgur.com/DHFrEUg.gif')
         embed.setTitle(`12 –¥–µ–∫–∞–±—Ä—è \n–° –î–µ–Ω—ë–º –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –†–§!`)
         embed.setImage(`https://i.imgur.com/17vQ0LE.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(embed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 15 31 12 *', () => {
      const camchatembed = new Discord.RichEmbed()
         .setColor('#1E90FF')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–ö–∞–º—á–∞—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è MSK+9: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ö–∞–º—á–∞—Ç—Å–∫–∏–π –∫—Ä–∞–π!!!`)
         .setImage(`https://i.imgur.com/eeB1iDq.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(camchatembed)
      
      const chucotembed = new Discord.RichEmbed()
         .setColor('#1E90FF')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–ö–∞–º—á–∞—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è MSK+9: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥!!!`)
         .setImage(`https://i.imgur.com/dK443Gv.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(chucotembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 16 31 12 *', () => {
      const embed = new Discord.RichEmbed()
         embed.setColor('#1E90FF')
         embed.setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         embed.setTitle(`–ú–°–ö+8, –ú–°–ö+7, –ú–°–ö+6: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)!!!`)
         embed.setImage(`https://i.imgur.com/3g17GVH.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(embed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 17 31 12 *', () => {
      const primorembed = new Discord.RichEmbed()
         .setColor('#1E90FF')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+7: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π!!!`)
         .setImage(`https://i.imgur.com/IgcUWsD.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(primorembed)
  
      const habarembed = new Discord.RichEmbed()
         .setColor('#008000')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+7: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π!!!`)
         .setImage(`https://i.imgur.com/afPkVd2.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(habarembed) 
  
      const magadanembed = new Discord.RichEmbed()
         .setColor('#FF0000')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+7: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
         .setImage(`https://i.imgur.com/3FxvWJJ.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(magadanembed)
  
      const sahalinembed = new Discord.RichEmbed()
         .setColor('#20B2AA')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+7: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –°–∞—Ö–∞–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
         .setImage(`https://i.imgur.com/JSRVKlt.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(sahalinembed)
  
       const evreiembed = new Discord.RichEmbed()
         .setColor('#228B22')
         .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
         .setTitle(`–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+7: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ï–≤—Ä–µ–π—Å–∫–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
         .setImage(`https://i.imgur.com/9QZ0Wg0.jpg`)
         client.channels.find(c => c.id === '498026742724952065').send(evreiembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 18 31 12 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#FF0000')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–Ø–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+6: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ê–º—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
      .setImage(`https://i.imgur.com/N1wiNa5.jpg`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 19 31 12 *', () => {
      const buriatembed = new Discord.RichEmbed()
      .setColor('#FFFF00')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–ò—Ä–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+5: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è!!!`)
      .setImage(`https://i.imgur.com/Kclf92s.jpg`)
      client.channels.find(c => c.id === '498026742724952065').send(buriatembed)
  
      const zabaikembed = new Discord.RichEmbed()
      .setColor('#FF0000')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–ò—Ä–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+5: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π!!!`)
      .setImage(`https://i.imgur.com/lzMJ0oc.gif`)
      client.channels.find(c => c.id === '498026742724952065').send(zabaikembed)
  
      const irkutskembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–ò—Ä–∫—É—Ç—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+5: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
      .setImage(`https://i.imgur.com/OnUAwRB.jpg`)
      client.channels.find(c => c.id === '498026742724952065').send(irkutskembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 20 31 12 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–æ–µ –≤—Ä–µ–º—è –ú–°–ö+4: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢—ã–≤–∞, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –•–∞–∫–∞—Å–∏—è, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π, –ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
      .setImage(`https://i.imgur.com/lzMJ0oc.gif`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 21 31 12 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–û–º—Å–∫–æ–µ –≤—Ä–µ–º—è MSK+3: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π, –ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –û–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
      .setImage(`https://i.imgur.com/lzMJ0oc.gif`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 22 31 12 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setDescription(`–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–µ –≤—Ä–µ–º—è MSK+2: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π, –ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –û—Ä–µ–Ω–±—É—Ä–≥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ ‚Äî –Æ–≥—Ä–∞ –∏ –†–æ—Å—Å–∏—è: –Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥!!!`)
      .setImage(`https://i.imgur.com/lzMJ0oc.gif`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 23 31 12 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–°–∞–º–∞—Ä—Å–∫–æ–µ –≤—Ä–µ–º—è MSK+1: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –£–¥–º—É—Ä—Ç–∏—è!!!`)
      .setImage(`https://i.imgur.com/lzMJ0oc.gif`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 0 1 1 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setDescription(`1 —è–Ω–≤–∞—Ä—è 2019 –≥–æ–¥–∞: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –î–∞–≥–µ—Å—Ç–∞–Ω, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ò–Ω–≥—É—à–µ—Ç–∏—è, –ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞, 
–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞–ª–º—ã–∫–∏—è, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º, –ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–æ—Ä–¥–æ–≤–∏—è, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–µ–≤–µ—Ä–Ω–∞—è –û—Å–µ—Ç–∏—è ‚Äî –ê–ª–∞–Ω–∏—è, 
–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –ß–µ—á–µ–Ω—Å–∫–∞—è —Ä–µ—Å–ø—É–±–ª–∏–∫–∞, –ß—É–≤–∞—à—Å–∫–∞—è —Ä–µ—Å–ø—É–±–ª–∏–∫–∞, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π, –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ë–µ–ª–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, 
–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–æ–≥–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ò–≤–∞–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö–∏—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, 
–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ü—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, 
–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –¢–∞–º–±–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –¢—É–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥!!!`)
      .setImage(`https://i.imgur.com/mjaHhFQ.jpg`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('0 1 1 1 *', () => {
      const amurembed = new Discord.RichEmbed()
      .setColor('#1E90FF')
      .setThumbnail('https://i.imgur.com/KhAjX1V.gif')
      .setTitle(`–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–µ –≤—Ä–µ–º—è MSK‚àí1: \n–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å!!!`)
      .setImage(`https://i.imgur.com/sBRfzaz.jpg`)
      client.channels.find(c => c.id === '498026742724952065').send(amurembed)
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});


cron.schedule('1 0 7 1 *', () => {
      var guild = client.guilds.get('447030107752759316');
      if (guild && guild.channels.get('498026742724952065')) {
         const embed = new Discord.RichEmbed()
           embed.setColor('#FFFFE0')
           embed.setThumbnail('https://i.imgur.com/h0Vgq1I.gif')
           embed.setTitle(`07 —è–Ω–≤–∞—Ä—è \n –° –†–æ–∂–¥–µ—Å—Ç–≤–æ–º –•—Ä–∏—Å—Ç–æ–≤—ã–º!`)
           embed.setImage(`https://i.imgur.com/7HSZJ61.gif`)
           client.channels.find(c => c.id === '498026742724952065').send(embed)
      }
}, {
   scheduled: true,
   timezone: "Europe/Moscow"
});

client.login(process.env.TOKEN);